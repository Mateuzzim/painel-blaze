<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estrat√©gias - Nexus Bot</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f3ff;
            --secondary: #bc13fe;
            --accent: #f12c4c;
            --gold: #ffd700;
            --green: #39ff14;
            --bg-dark: #050b14;
            --card-bg: rgba(20, 25, 40, 0.7);
            --text-main: #e0e6ed;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Rajdhani', sans-serif;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-sizing: border-box;
        }

        /* Background Grid */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: 
                linear-gradient(rgba(188, 19, 254, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(188, 19, 254, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
        }

        .header {
            width: 100%;
            max-width: 1000px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            border-bottom: 1px solid rgba(188, 19, 254, 0.3);
            padding-bottom: 20px;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            font-size: 1.8rem;
            background: linear-gradient(90deg, #fff, var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .btn-back {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 20px;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            transition: 0.3s;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            border-radius: 4px;
        }
        .btn-back:hover { background: var(--primary); color: #000; box-shadow: 0 0 15px var(--primary); }

        .strategies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 1000px;
        }

        .strategy-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .strategy-card:hover { transform: translateY(-5px); border-color: var(--primary); box-shadow: 0 10px 30px rgba(0, 243, 255, 0.15); }

        .card-icon { font-size: 1.5rem; margin-bottom: 10px; display: inline-block; padding: 8px; border-radius: 50%; background: rgba(255, 255, 255, 0.05); }
        .card-title { font-family: 'Orbitron', sans-serif; font-size: 0.9rem; color: #fff; margin-bottom: 8px; text-transform: uppercase; min-height: 40px; display: flex; align-items: center; justify-content: center; }
        .card-desc { color: #aaa; font-size: 0.95rem; line-height: 1.6; margin-bottom: 20px; display: none; }

        .difficulty { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: bold; text-transform: uppercase; }
        .diff-easy { background: rgba(0, 231, 1, 0.2); color: #00e701; }
        .diff-med { background: rgba(255, 215, 0, 0.2); color: #ffd700; }
        .diff-hard { background: rgba(241, 44, 76, 0.2); color: #f12c4c; }

        .step-list { list-style: none; padding: 0; margin: 0; border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 15px; display: none; }
        .step-list li { margin-bottom: 8px; display: flex; align-items: start; gap: 10px; font-size: 0.9rem; }
        .step-list li::before { content: "‚ñπ"; color: var(--primary); }

        /* Cores espec√≠ficas */
        .card-blue .card-icon { color: var(--primary); border: 1px solid var(--primary); }
        .card-purple .card-icon { color: var(--secondary); border: 1px solid var(--secondary); }
        .card-gold .card-icon { color: var(--gold); border: 1px solid var(--gold); }
        .card-red .card-icon { color: var(--accent); border: 1px solid var(--accent); }
        .card-green .card-icon { color: var(--green); border: 1px solid var(--green); }

        /* --- AI SECTION --- */
        .ai-container {
            width: 100%;
            max-width: 1000px;
            background: linear-gradient(180deg, rgba(0, 243, 255, 0.05) 0%, rgba(5, 11, 20, 0.8) 100%);
            border: 1px solid var(--primary);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.1);
        }

        .ai-container::before {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: scan 2s linear infinite;
        }
        @keyframes scan { 0% { left: -100%; } 100% { left: 100%; } }

        .ai-status {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .ai-pulse {
            width: 10px; height: 10px; background: var(--primary); border-radius: 50%;
            box-shadow: 0 0 10px var(--primary);
            animation: pulse 1s infinite;
        }
        @keyframes pulse { 0% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1); } }

        .suggestion-box {
            display: none; /* Hidden by default */
            width: 100%;
            animation: fadeIn 0.5s ease-out;
        }
        .suggestion-box.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .sugg-title { font-size: 1.8rem; font-weight: bold; color: #fff; margin: 10px 0; text-transform: uppercase; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        .sugg-desc { color: #aaa; font-size: 1rem; margin-bottom: 15px; }
        .sugg-conf { font-family: 'Orbitron'; font-size: 1.2rem; color: var(--green); border: 1px solid var(--green); padding: 5px 15px; border-radius: 4px; display: inline-block; }

        /* --- AI HISTORY --- */
        .ai-history-container {
            position: sticky;
            top: 20px;
            width: 100%;
            max-width: 1000px;
            max-height: 300px;
            overflow-y: auto;
            background: rgba(5, 11, 20, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 243, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 40px;
            display: block;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
            z-index: 1000;
        }
        .ai-history-container::-webkit-scrollbar { width: 4px; }
        .ai-history-container::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 2px; }
        
        .hist-item {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 15px;
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            align-items: center;
            transition: background 0.3s;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        .hist-item:last-child { border-bottom: none; }
        .hist-item:hover { background: rgba(255, 255, 255, 0.02); }
        
        .hist-strat { color: #fff; font-weight: bold; font-size: 0.95rem; text-align: left; }
        .hist-conf { font-family: 'Orbitron'; font-size: 0.8rem; padding: 2px 8px; border-radius: 4px; }
        .hist-time { color: #666; font-size: 0.8rem; font-family: 'Rajdhani'; }

        /* --- RECENT HISTORY (STONES) --- */
        .recent-history-container {
            width: 100%;
            max-width: 1000px;
            margin-bottom: 40px;
        }
        .recent-history-list {
            display: flex;
            flex-direction: row-reverse;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        .recent-history-list::-webkit-scrollbar { height: 6px; }
        .recent-history-list::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 3px; }
        
        .history-badge { min-width: 60px; padding: 10px 0; text-align: center; border-radius: 4px; font-weight: bold; font-size: 0.9rem; background: rgba(255, 255, 255, 0.05); border: 1px solid transparent; }
        .h-win { color: var(--green); border-color: rgba(57, 255, 20, 0.3); box-shadow: 0 0 5px rgba(57, 255, 20, 0.1); }
        .h-loss { color: var(--accent); border-color: rgba(241, 44, 76, 0.3); }
        .h-doji { color: #fff; border-color: rgba(255, 255, 255, 0.3); }

        /* Anima√ß√£o de Entrada */
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .history-badge.new-item {
            animation: slideInRight 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .history-badge.latest {
            border: 1px solid #fff;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            position: relative;
            z-index: 1;
        }
        .history-badge.latest::after { content: ''; position: absolute; top: -2px; left: -2px; right: -2px; bottom: -2px; border-radius: 6px; border: 1px solid rgba(255, 255, 255, 0.8); animation: pulse-border 1.5s infinite; }
        @keyframes pulse-border { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.1); opacity: 0; } }
    </style>
</head>
<body>
    <div class="header">
        <h1>Protocolos <span style="color: var(--primary)">Estrat√©gicos</span></h1>
        <div>
            <a href="previsao_de_horario.html" class="btn-back" style="margin-right: 10px;">Previs√£o Hor√°rio</a>
            <a href="index.html" class="btn-back">Voltar</a>
        </div>
    </div>

    <!-- AI Section -->
    <div class="ai-container">
        <div class="ai-status"><div class="ai-pulse"></div> <span id="ai-status-text">ESCANEANDO MERCADO...</span></div>
        
        <div id="ai-result" class="suggestion-box">
            <div class="sugg-title" id="sugg-name">---</div>
            <div class="sugg-desc" id="sugg-reason">---</div>
            <div class="sugg-conf" id="sugg-conf">---</div>
        </div>
    </div>

    <!-- AI History Section -->
    <div id="ai-history-container" class="ai-history-container">
        <h3 style="color: var(--primary); font-family: 'Orbitron'; margin: 0 0 15px 0; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid rgba(0, 243, 255, 0.1); padding-bottom: 10px;">Hist√≥rico de Sinais</h3>
        <div id="ai-history-list">
            <div id="history-placeholder" style="text-align: center; color: #666; padding: 20px; font-style: italic; font-size: 0.9rem;">Aguardando sinais...</div>
        </div>
    </div>

    <!-- Recent History Section -->
    <div class="recent-history-container">
        <h3 style="color: var(--primary); font-family: 'Orbitron'; margin: 0 0 15px 0; font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid rgba(0, 243, 255, 0.1); padding-bottom: 10px;">√öltimas 20 Velas</h3>
        <div id="recent-history-list" class="recent-history-list"></div>
    </div>

    <div class="strategies-grid">
        <!-- Estrat√©gia 1 -->
        <div class="strategy-card card-blue">
            <div class="card-icon">üõ°Ô∏è</div>
            <div class="card-title">Scalping Seguro</div>
            <div class="difficulty diff-easy">Iniciante</div>
            <p class="card-desc">Focada em consist√™ncia e prote√ß√£o. O objetivo √© sair do mercado rapidamente com lucros pequenos mas frequentes.</p>
            <ul class="step-list">
                <li>Alvo: <strong>1.30x a 1.50x</strong></li>
                <li>Stop Loss: 10% da banca di√°ria.</li>
                <li>Entrar ap√≥s 2 velas vermelhas seguidas.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 2 -->
        <div class="strategy-card card-purple">
            <div class="card-icon">üîÆ</div>
            <div class="card-title">Padr√£o Xadrez</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Identifica√ß√£o de altern√¢ncia entre velas altas (Verdes) e baixas (Vermelhas).</p>
            <ul class="step-list">
                <li>Observar sequ√™ncia: Verde, Vermelho, Verde...</li>
                <li>Entrada: Ap√≥s uma vela vermelha confirmada.</li>
                <li>Alvo: <strong>2.00x</strong> (Dobro).</li>
            </ul>
        </div>
        <!-- Estrat√©gia 3 -->
        <div class="strategy-card card-gold">
            <div class="card-icon">üíé</div>
            <div class="card-title">Hunter 10x</div>
            <div class="difficulty diff-hard">Avan√ßado</div>
            <p class="card-desc">Estrat√©gia de alto risco e alta recompensa, buscando multiplicadores acima de 10.00x.</p>
            <ul class="step-list">
                <li>Analisar m√©dia de tempo das √∫ltimas velas rosas.</li>
                <li>Entrada com valor baixo (1% da banca).</li>
                <li>Utilizar auto-retirar em <strong>10.00x</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 4 -->
        <div class="strategy-card card-green">
            <div class="card-icon">‚è±Ô∏è</div>
            <div class="card-title">Ciclo Pulo 6x</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Estrat√©gia de temporiza√ß√£o. Identifica uma vela alta e aguarda a corre√ß√£o do mercado antes de entrar.</p>
            <ul class="step-list">
                <li>Gatilho: Vela acima de <strong>6.00x</strong>.</li>
                <li>Espera: Pular exatas <strong>6 casas</strong> (rodadas).</li>
                <li>Entrada: Apostar na 7¬™, 8¬™ e 9¬™ casa.</li>
                <li>Alvo: <strong>1.90x</strong> (Auto-retirar).</li>
            </ul>
        </div>
        <!-- Estrat√©gia 5 -->
        <div class="strategy-card card-blue">
            <div class="card-icon">üî¢</div>
            <div class="card-title">Padr√£o D√≠gitos Iguais</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Padr√£o num√©rico onde velas com d√≠gitos repetidos indicam for√ßa para buscar multiplicadores m√©dios.</p>
            <ul class="step-list">
                <li>Gatilho: <strong>1.11x, 2.22x, 3.33x, 4.44x, 5.55x</strong></li>
                <li>Entrada: Buscar 2x a 3x at√© a <strong>3¬™ entrada</strong>.</li>
                <li>Alvo: Auto-retirar em <strong>2.50x</strong> ou <strong>2.90x</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 6 -->
        <div class="strategy-card card-gold">
            <div class="card-icon">üöÄ</div>
            <div class="card-title">P√≥s-Vela 10x (3X)</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Aproveitar o momento de alta volatilidade ap√≥s uma vela rosa para buscar um multiplicador de 3x.</p>
            <ul class="step-list">
                <li>Gatilho: Vela acima de <strong>10.00x</strong>.</li>
                <li>Entrada: Apostar nas pr√≥ximas <strong>4 rodadas</strong>.</li>
                <li>Alvo: <strong>3.00x</strong>.</li>
                <li>Obs: Se bater a meta e voc√™ n√£o entrou, n√£o entre mais.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 7 -->
        <div class="strategy-card card-purple">
            <div class="card-icon">‚è≥</div>
            <div class="card-title">Pulo 3 Casas (3X)</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Estrat√©gia de espera ap√≥s velas m√©dias (4x a 8x).</p>
            <ul class="step-list">
                <li>Gatilho: Vela entre <strong>4x e 8x</strong>.</li>
                <li>Espera: Pular exatas <strong>3 casas</strong>.</li>
                <li>Entrada: Buscar 3x por at√© <strong>4 rodadas</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 8 -->
        <div class="strategy-card card-red">
            <div class="card-icon">üìâ</div>
            <div class="card-title">Revers√£o de Loss (3X)</div>
            <div class="difficulty diff-easy">Iniciante</div>
            <p class="card-desc">Entrada contra-tend√™ncia ap√≥s sequ√™ncia de baixas.</p>
            <ul class="step-list">
                <li>Gatilho: Sequ√™ncia de <strong>5 ou 6 Loss</strong>.</li>
                <li>Entrada: Imediata buscando revers√£o.</li>
                <li>Alvo: Auto-retirar em <strong>2.50x</strong> ou <strong>2.90x</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 9 -->
        <div class="strategy-card card-blue">
            <div class="card-icon">üå†</div>
            <div class="card-title">P√≥s-Vela 20x (3x-5x)</div>
            <div class="difficulty diff-hard">Avan√ßado</div>
            <p class="card-desc">Estrat√©gia composta ap√≥s super velas (20x+). Busca multiplicadores m√©dios em duas fases.</p>
            <ul class="step-list">
                <li>Gatilho: Vela acima de <strong>20.00x</strong>.</li>
                <li>Fase 1 (Rodadas 1-4): Buscar <strong>3.00x a 4.00x</strong>.</li>
                <li>Fase 2 (Rodadas 5-7): Buscar <strong>5.00x</strong>.</li>
                <li>Obs: Se bater 5x na Fase 1, cancele a Fase 2.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 10 -->
        <div class="strategy-card card-green">
            <div class="card-icon">üéØ</div>
            <div class="card-title">Padr√£o Repeti√ß√£o (3x-5x)</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Varia√ß√£o agressiva do padr√£o de d√≠gitos iguais, buscando multiplicadores maiores.</p>
            <ul class="step-list">
                <li>Gatilho: <strong>1.11x, 2.22x, 3.33x, 4.44x</strong>.</li>
                <li>Entrada: Buscar <strong>3.00x a 5.00x</strong>.</li>
                <li>Dura√ß√£o: Entrar nas pr√≥ximas <strong>4 ou 5 rodadas</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 11 -->
        <div class="strategy-card card-red">
            <div class="card-icon">‚ö°</div>
            <div class="card-title">P√≥s-Vela 1.00x (5X)</div>
            <div class="difficulty diff-med">Intermedi√°rio</div>
            <p class="card-desc">Alta probabilidade (60%) de recupera√ß√£o com multiplicador alto ap√≥s um crash instant√¢neo.</p>
            <ul class="step-list">
                <li>Gatilho: Vela de <strong>1.00x</strong>.</li>
                <li>Entrada: Buscar <strong>5.00x</strong>.</li>
                <li>Dura√ß√£o: Entrar nas pr√≥ximas <strong>4 ou 5 rodadas</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 12 -->
        <div class="strategy-card card-gold">
            <div class="card-icon">‚ú®</div>
            <div class="card-title">P√≥s-Vela 8x (10X)</div>
            <div class="difficulty diff-hard">Avan√ßado</div>
            <p class="card-desc">Padr√£o onde uma vela de 8x sinaliza a chegada de uma vela rosa (10x+) em breve.</p>
            <ul class="step-list">
                <li>Gatilho: Vela na casa de <strong>8.00x</strong>.</li>
                <li>Entrada: Buscar <strong>10.00x</strong>.</li>
                <li>Dura√ß√£o: Entrar nas pr√≥ximas <strong>4 ou 5 rodadas</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 13 -->
        <div class="strategy-card card-purple">
            <div class="card-icon">üëØ</div>
            <div class="card-title">Valores Iguais (10X-15X)</div>
            <div class="difficulty diff-hard">Avan√ßado</div>
            <p class="card-desc">Padr√£o raro onde velas com valores id√™nticos consecutivos sinalizam um pagamento alto em breve.</p>
            <ul class="step-list">
                <li>Gatilho: Duas velas com <strong>valores iguais</strong>.</li>
                <li>Entrada: Buscar <strong>10.00x a 15.00x</strong>.</li>
                <li>Dura√ß√£o: Persistir por at√© <strong>10 rodadas</strong>.</li>
                <li>Obs: Observar a tend√™ncia antes de entrar.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 14 -->
        <div class="strategy-card card-gold">
            <div class="card-icon">üëë</div>
            <div class="card-title">P√≥s-Vela 100x (15X-20X)</div>
            <div class="difficulty diff-hard">Avan√ßado</div>
            <p class="card-desc">Estrat√©gia de janelas espec√≠ficas ap√≥s uma vela lend√°ria (100x+), buscando alvos altos.</p>
            <ul class="step-list">
                <li>Gatilho: Vela acima de <strong>100.00x</strong>.</li>
                <li>Janela 1: Pular 6 casas, entrar na <strong>7¬™ e 8¬™</strong>.</li>
                <li>Janela 2: Se falhar, entrar da <strong>13¬™ √† 17¬™ casa</strong>.</li>
                <li>Alvo: <strong>15.00x a 20.00x</strong>.</li>
            </ul>
        </div>
        <!-- Estrat√©gia 15 -->
        <div class="strategy-card card-blue">
            <div class="card-icon">‚ûó</div>
            <div class="card-title">Divis√£o por 4 (+4)</div>
            <div class="difficulty diff-hard">Avan√ßado</div>
            <p class="card-desc">Estrat√©gia matem√°tica para velas pares acima de 16x. O alvo √© o resultado da divis√£o da vela por 4.</p>
            <ul class="step-list">
                <li>Gatilho: Vela par acima de <strong>16.00x</strong>.</li>
                <li>C√°lculo: Dividir valor por 4 (Ex: 16x / 4 = <strong>4.00x</strong> alvo).</li>
                <li>At√© 30x: Entrar nas pr√≥ximas <strong>4 a 5 rodadas</strong>.</li>
                <li>Acima de 30x: Pular 6 casas, entrar na <strong>7¬™</strong> (4 a 5 tentativas).</li>
            </ul>
        </div>
    </div>

    <script>
        const SEU_TOKEN = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6OTIxMywiaXNSZWZyZXNoVG9rZW4iOmZhbHNlLCJibG9ja3MiOltdLCJ1dWlkIjoiMDBmN2QyNDktMjM4YS00MjJiLWJiNDAtZDE3OGMyNjE1MGQ0IiwiaWF0IjoxNzY3MzYzNTAzLCJleHAiOjE3Njc0MDY3MDN9.H_WGgqEOqwyuG5zvweAMX_WO9VtP0pWhzxhaZSi4UNo";
        const API_URL = 'https://blaze.bet.br/api/singleplayer-originals/originals/crash_games/recent/history/4?page=1';
        const PROXY = 'https://corsproxy.io/?';

        const elStatusText = document.getElementById('ai-status-text');
        const elResultBox = document.getElementById('ai-result');
        const elName = document.getElementById('sugg-name');
        const elReason = document.getElementById('sugg-reason');
        const elConf = document.getElementById('sugg-conf');
        const elHistoryContainer = document.getElementById('ai-history-container');
        const elHistoryList = document.getElementById('ai-history-list');
        const elRecentHistoryList = document.getElementById('recent-history-list');
        let lastDetectedId = null;
        let lastHistoryId = null;

        async function fetchAndAnalyze() {
            try {
                const response = await fetch(`${PROXY}${API_URL}&t=${Date.now()}`, {
                    headers: { 'Authorization': `Bearer ${SEU_TOKEN}` }
                });
                if (!response.ok) throw new Error('API Error');
                
                const data = await response.json();
                const records = data.records || data;
                // Ordenar: mais recente no √≠ndice 0
                records.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));

                renderRecentHistory(records);
                analyzeStrategies(records);
            } catch (e) {
                console.error(e);
                elStatusText.innerText = "CONEX√ÉO INST√ÅVEL - TENTANDO RECONECTAR...";
            }
        }

        function renderRecentHistory(history) {
            if (!history || history.length === 0) return;
            const newest = history[0];

            // Fun√ß√£o auxiliar para criar o elemento
            const createBadge = (game) => {
                const val = parseFloat(game.crash_point);
                const div = document.createElement('div');
                div.className = 'history-badge';
                div.innerText = val.toFixed(2) + 'x';
                if (val >= 2.00) div.classList.add('h-win');
                else if (val <= 1.00) div.classList.add('h-doji');
                else div.classList.add('h-loss');
                return div;
            };

            // Primeira carga
            if (!lastHistoryId) {
                elRecentHistoryList.innerHTML = '';
                history.slice(0, 20).forEach((game, index) => {
                    const el = createBadge(game);
                    if (index === 0) el.classList.add('latest');
                    elRecentHistoryList.appendChild(el);
                });
                lastHistoryId = newest.id;
                return;
            }

            // Se n√£o mudou, n√£o faz nada
            if (newest.id === lastHistoryId) return;

            // Identifica novos itens
            const newItems = [];
            for (let game of history) {
                if (game.id === lastHistoryId) break;
                newItems.push(game);
            }

            // Remove destaque do anterior
            const currentLatest = elRecentHistoryList.querySelector('.latest');
            if (currentLatest) currentLatest.classList.remove('latest');
            
            // Adiciona novos itens (ordem inversa para manter a pilha correta no prepend)
            for (let i = newItems.length - 1; i >= 0; i--) {
                const el = createBadge(newItems[i]);
                el.classList.add('new-item');
                if (i === 0) el.classList.add('latest');
                elRecentHistoryList.prepend(el);
            }

            lastHistoryId = newest.id;

            // Mant√©m apenas 20
            while (elRecentHistoryList.children.length > 20) {
                elRecentHistoryList.removeChild(elRecentHistoryList.lastChild);
            }
        }

        function analyzeStrategies(history) {
            if (!history || history.length < 20) return;

            const currentGameId = history[0].id;
            const last = parseFloat(history[0].crash_point);
            const prev = parseFloat(history[1].crash_point);
            const prev2 = parseFloat(history[2].crash_point);
            
            let bestStrategy = null;
            let confidence = 0;
            let reason = "";

            // --- L√ìGICA DE DETEC√á√ÉO ---

            // 1. P√≥s-Vela 1.00x (Estrat√©gia 11)
            if (last === 1.00) {
                bestStrategy = "P√≥s-Vela 1.00x (5X)";
                confidence = 85;
                reason = "Crash instant√¢neo (1.00x) detectado. Alta chance de compensa√ß√£o.";
            }
            // 2. Scalping Seguro (Estrat√©gia 1) - 2 Loss seguidos
            else if (last < 2.00 && prev < 2.00) {
                bestStrategy = "Scalping Seguro";
                confidence = 75;
                reason = "Sequ√™ncia de 2 velas baixas. Momento prop√≠cio para buscar 1.30x - 1.50x.";
            }
            // 3. Padr√£o D√≠gitos Iguais (Estrat√©gia 5)
            else if ([1.11, 2.22, 3.33, 4.44, 5.55].includes(last)) {
                bestStrategy = "Padr√£o D√≠gitos Iguais";
                confidence = 80;
                reason = `Vela de d√≠gitos repetidos (${last}x) detectada.`;
            }
            // 4. Revers√£o de Loss (Estrat√©gia 8) - 5 Loss seguidos
            else if (history.slice(0, 5).every(h => parseFloat(h.crash_point) < 2.00)) {
                bestStrategy = "Revers√£o de Loss";
                confidence = 90;
                reason = "Sequ√™ncia cr√≠tica de 5+ Loss. Revers√£o iminente.";
            }
            // 5. P√≥s-Vela 10x (Estrat√©gia 6)
            else if (last >= 10.00) {
                bestStrategy = "P√≥s-Vela 10x (3X)";
                confidence = 70;
                reason = "Vela Rosa recente. Volatilidade alta para buscar 3x.";
            }
            // 6. Ciclo Pulo 6x (Estrat√©gia 4) - Verifica se houve vela > 6x h√° exatos 6 jogos
            else {
                // Verifica hist√≥rico para estrat√©gias de "Pulo"
                // √çndice 6 = 7¬™ vela atr√°s (0 a 6)
                if (history.length > 7) {
                    const candle6Back = parseFloat(history[6].crash_point);
                    if (candle6Back >= 6.00) {
                        bestStrategy = "Ciclo Pulo 6x";
                        confidence = 88;
                        reason = `Vela de ${candle6Back}x h√° 6 rodadas. Momento de entrada (7¬™ casa).`;
                    }
                }
                
                // Pulo 3 Casas (Estrat√©gia 7) - Verifica vela 4x-8x h√° 3 jogos
                if (!bestStrategy && history.length > 4) {
                    const candle3Back = parseFloat(history[3].crash_point);
                    if (candle3Back >= 4.00 && candle3Back <= 8.00) {
                        bestStrategy = "Pulo 3 Casas (3X)";
                        confidence = 65;
                        reason = `Vela m√©dia (${candle3Back}x) h√° 3 rodadas.`;
                    }
                }

                // Valores Iguais (Estrat√©gia 13)
                if (!bestStrategy && last === prev) {
                    bestStrategy = "Valores Iguais (10X-15X)";
                    confidence = 95;
                    reason = `Duas velas id√™nticas (${last}x) consecutivas. Padr√£o raro!`;
                }
            }

            // --- ATUALIZA√á√ÉO DA UI ---
            if (bestStrategy) {
                // Salva a confian√ßa para controle de acesso em outras p√°ginas
                localStorage.setItem('nexus_last_confidence', confidence);
                localStorage.setItem('nexus_last_strategy_name', bestStrategy);
                localStorage.setItem('nexus_last_update', Date.now());

                elStatusText.innerText = "ESTRAT√âGIA IDENTIFICADA!";
                elStatusText.style.color = "var(--green)";
                elName.innerText = bestStrategy;
                elName.style.color = confidence > 80 ? "var(--green)" : "var(--primary)";
                elReason.innerText = reason;
                elConf.innerText = `${confidence}% CONFIAN√áA`;
                elConf.style.borderColor = confidence > 80 ? "var(--green)" : "var(--primary)";
                elConf.style.color = confidence > 80 ? "var(--green)" : "var(--primary)";
                elResultBox.classList.add('active');

                // Adiciona ao hist√≥rico se for um novo sinal (novo jogo)
                if (currentGameId !== lastDetectedId) {
                    lastDetectedId = currentGameId;
                    
                    const placeholder = document.getElementById('history-placeholder');
                    if (placeholder) placeholder.remove();

                    const div = document.createElement('div');
                    div.className = 'hist-item';
                    const color = confidence > 80 ? 'var(--green)' : 'var(--primary)';
                    const timeStr = new Date().toLocaleTimeString();

                    div.innerHTML = `
                        <div class="hist-strat">${bestStrategy}</div>
                        <div class="hist-conf" style="color: ${color}; border: 1px solid ${color}">${confidence}%</div>
                        <div class="hist-time">${timeStr}</div>
                    `;
                    
                    elHistoryList.prepend(div);
                    if (elHistoryList.children.length > 5) elHistoryList.removeChild(elHistoryList.lastChild);
                    elHistoryContainer.classList.add('visible');
                }
            } else {
                elStatusText.innerText = "ANALISANDO PADR√ïES...";
                elStatusText.style.color = "var(--primary)";
                elResultBox.classList.remove('active');
            }
        }

        fetchAndAnalyze();
        setInterval(fetchAndAnalyze, 5000);
    </script>
</body>
</html>